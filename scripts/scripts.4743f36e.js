"use strict";angular.module("workspaceApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngStorage","ngTouch","ngMap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/search/:location",{templateUrl:"views/search.html",controller:"SearchCtrl",controllerAs:"search"}).otherwise({redirectTo:"/"})}]),angular.module("workspaceApp").controller("MainCtrl",["$scope","$rootScope","current","search","$localStorage","$timeout",function(a,b,c,d,e,f){console.log(a.current=c.query({location:"98102"})),b.viewMore=a.current,a.searchZip=function(d){a.current=c.query({location:a.location}),b.viewMore=a.current},a.orderProp="location",a.quantity=5,a.storage=e,a.saveZip=function(a){var c={location:a};if(console.log(c),e.savedZips){for(var d=!0,f=0;f<e.savedZips.length;f++)e.savedZips[f].location===c.location&&(d=!1);d===!0?(e.savedZips.push(c),b.zipSaved={success:!0}):(console.log("location already saved"),b.zipSaved={duplicate:!0})}else e.savedZips=[c]}}]),angular.module("workspaceApp").controller("AboutCtrl",["$scope",function(a){a.query="animal rescues in"}]),angular.module("workspaceApp").factory("current",["$resource",function(a){return a("http://api.petfinder.com/shelter.find?key=47dc816692c1648821b64b0e49169781&location=:location&output=full&format=json",{callback:"JSON_CALLBACK"},{query:{method:"JSONP",params:{location:"98122",bogus:null},isArray:!1}})}]),angular.module("workspaceApp").factory("search",["$resource",function(a){return a("http://api.petfinder.com/shelter.find?key=47dc816692c1648821b64b0e49169781&location=:location&output=full&format=json",{callback:"JSON_CALLBACK"},{query:{method:"JSONP",params:{location:"98122"},isArray:!0}})}]),angular.module("workspaceApp").controller("SearchCtrl",["$scope","$routeParams","$rootScope","current","search",function(a,b,c,d,e){a.location=b.location,c.viewMore,a.orderProp="location"}]),angular.module("workspaceApp").run(["$templateCache",function(a){a.put("views/about.html",'<div ng-app class="jumbotron" ng-controller="AboutCtrl"> <h1>People<span class="glyphicon glyphicon-heart"></span>Pets</h1> <p class="lead"> Rescue Finder puts people in touch with pets and animal welfare organizations using nearby zipcode searches with data supplied by Petfinder.com. </p> </div>'),a.put("views/main.html",'<div ng-app class="jumbotron" ng-controller="MainCtrl"> <h1>Rescue Finder</h1> <p> Search for nearby animal welfare and rescue organizations using your zipcode. </p> <p class="lead"> <div ng-init="location=\'98122\'"> <p> <label for="location">Enter Your Zip: <input type="zipcode" name="location" ng-model="location"> </label> </p> <p><button class="btn btn-lg btn-primary" ng-click="searchZip()">Search</button></p> <h2>Nearby Results</h2> <dl ng-repeat="shelter in current.petfinder.shelters.shelter | orderBy:location | limitTo:quantity" class="shelter-list"> <dt>{{shelter.name.$t}}</dt> <dd>{{shelter.address1.$t}} {{shelter.address2.$t}}</dd> <dd>{{shelter.city.$t}}, {{shelter.state.$t}} {{shelter.zip.$t}}</dd> <dt>Contact</dt> <dd>{{shelter.email.$t}}</dd> <dd>{{shelter.phone.$t}}</dd> </dl> </div> </p><p><a ng-href="#/search/{{location}}" class="btn btn-lg btn-primary">View More Results</a></p> <p> </p> <p><button class="btn btn-sm btn-primary" ng-click="saveZip(location)">Save Search</button></p> </div>  <div ng-if="storage.savedZips"> <h2>Saved Searches</h2> <ul class="saved-searches-list" style="list-style: none"> <li ng-repeat="zip in storage.savedZips"> <a ng-click="savedZips(location)" class="btn btn-sm btn-primary">{{zip.location}}</a> </li> </ul> </div> <div ng-messages="zipSaved"> <p class="zip-saved-alert bg-success text-success" ng-message="success"> {{storage.savedZips.zip.location}} has been saved to your list of searches. </p> <p class="zip-saved-alert bg-warning text-warning" ng-message="duplicate"> {{storage.savedZips.zip.location}} has already been saved to your list of searches. </p> </div>  <!--\n<p> \n<div map-lazy-load="https://maps.google.com/maps/api/js"\n  map-lazy-load-params="{{googleMapsUrl}}">\n  <ng-map center="41,-87" zoom="3"></ng-map> \n </div>\n</p>\n\n<p>\n<div map-lazy-load="https://maps.google.com/maps/api/js"\n  map-lazy-load-params="{{googleMapsUrl}}">\n   <ng-map center="-25.363882,131.044922" zoom="4">\n     <ng-map-search-box template="searchbox.template" events="searchbox.events"></ng-map-search-box>\n    <marker position="-25.363882,131.044922" title="Hello World!"></marker>\n  </ng-map>\n</div>\n</p> -->'),a.put("views/search.html",'<div class="jumbotron" id="view-more"> <h2>More Nearby Results</h2> <dl ng-repeat="shelter in $root.viewMore.petfinder.shelters.shelter | orderBy:location" class="shelter-list"> <dt>{{shelter.name.$t}}</dt> <dd>{{shelter.address1.$t}} {{shelter.address2.$t}}</dd> <dd>{{shelter.city.$t}}, {{shelter.state.$t}} {{shelter.zip.$t}}</dd> <dt>Contact</dt> <dd>{{shelter.email.$t}}</dd> <dd>{{shelter.phone.$t}}</dd> </dl> <p><stong><a ng-href="#/" class="btn btn-lg btn-primary">Start New Search</a></stong></p> </div>')}]);